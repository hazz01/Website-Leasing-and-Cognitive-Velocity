<!DOCTYPE html>
<html lang="english">
  <head>
    <title>Web Leasing and Cognitive Velocity</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="src/input.css" />
    <link rel="stylesheet" href="../output.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" data-tag="font" />
    <style>
      * {
        font-family: Inter;
      }
    </style>
  </head>

  <body class="bg-color-main-bg">
    <section class="mainContent">
      <!-- section -->
      <div class="px-2 py-2 rounded-md p-2 m-auto bg-primary-color fixed top-4 right-4 invisible"><p id="TimerDisplay" class="font-semibold text-lg text-white w-full text-center"></p></div>

      <div class="max-w-4xl mx-auto mt-32 block">
        <h5 class="font-normal text-2xl text-center mb-5">Small Error Of Undervalue</h5>
        <p class="text-center text-slate-500 text-base max-w-xl mx-auto mb-1 px-3">Study Case 1</p>
        <p class="text-center text-slate-500 text-base max-w-xl mx-auto mb-5 px-3">ABDI BARAKAH TBK</p>
      </div>
      <section class="max-w-6xl mx-auto mb-32 p-10 bg-white rounded-lg">
        <div class="mb-[62px] flex max-w-xl mx-auto">
          <div class="m-auto rounded-full bg-primary-color px-5 py-3 text-[18px] text-white">1</div>
          <div class="mx-2 my-auto h-1 w-full bg-color-gray-900"></div>
          <div class="m-auto rounded-full bg-color-gray-900 px-5 py-3 text-[18px] text-black">2</div>
          <div class="mx-2 my-auto h-1 w-full bg-color-gray-900"></div>
          <div class="m-auto rounded-full bg-color-gray-900 px-5 py-3 text-[18px] text-black">3</div>
          <div class="mx-2 my-auto h-1 w-full bg-color-gray-900"></div>
          <div class="m-auto rounded-full bg-color-gray-900 px-5 py-3 text-[18px] text-black">4</div>
        </div>

        <!-- inner -->

        <div class="grid lg:grid-cols-2 sm:grid-cols-1 gap-5">
          <a href="" class="block max-w-xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
            <h5 class="mb-5 text-base font-bold tracking-tight text-gray-900 dark:text-white">Pertanyaan 4</h5>
            <img src="../../img/SmallUndervalues_1.png" alt="Statement Finanial Report" width="100%" />
          </a>
          <!-- <div class="block max-w-xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
          
        </div> -->

          <div class="block max-w-xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
            <div class="relative overflow-x-auto">
              <h5 class="mb-5 text-base font-bold tracking-tight text-gray-900 dark:text-white">What is the total capitalization value of the assets or right of use assets that you calculated in 2019?</h5>
              <form id="forms_pak_chusni">
                <table class="w-full text-xs text-left rtl:text-right text-black dark:text-gray-400">
                  <thead class="text-sm text-black bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                      <th scope="col" class="px-6 py-3">Assets</th>
                      <th scope="col" class="px-6 py-3">Number</th>
                      <th scope="col" class="px-6 py-3">Liabilities</th>
                      <th scope="col" class="px-6 py-3">Number</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                      <td class="px-6 py-4">Current Assets</td>
                      <td class="px-6 py-4"><p id="currentAssets">1475800300</p></td>
                      <td class="px-6 py-4">Current Liabilities</td>
                      <td class="px-6 py-4">
                        <input
                          type="text"
                          id="currentLiabilities"
                          name="smallUndervalueTab4_A1"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 abso"
                          placeholder=""
                          required
                        />
                      </td>
                    </tr>
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                      <td class="px-6 py-4">Non Current Assets</td>
                      <td class="px-6 py-4">
                        <input
                          type="number"
                          id="nonCurrentAssets"
                          name="smallUndervalueTab4_B1"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 abso"
                          placeholder=""
                          required
                        />
                      </td>
                      <td class="px-6 py-4">Non Current Liabilities</td>
                      <td class="px-6 py-4">
                        <input
                          type="text"
                          id="nonCurrentLiabilities"
                          name="smallUndervalueTab4_B2"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 abso"
                          placeholder=""
                          required
                        />
                      </td>
                    </tr>
                    <tr class="bg-white dark:bg-gray-800">
                      <td class="px-6 py-4"></td>
                      <td class="px-6 py-4"></td>
                      <td class="px-6 py-4">Total Liabilities</td>
                      <td class="px-6 py-4">
                        <p id="totalLiabilities"></p>
                      </td>
                    </tr>
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                      <td class="px-6 py-4"></td>
                      <td class="px-6 py-4"></td>
                      <th class="px-6 py-4">Equities</th>
                      <td class="px-6 py-4"></td>
                    </tr>
                    <tr class="bg-white dark:bg-gray-800">
                      <td class="px-6 py-4"></td>
                      <td class="px-6 py-4"></td>
                      <td class="px-6 py-4">Equity Total Liabilities</td>
                      <td class="px-6 py-4">
                        <p id="equityTotalLiabilities">0</p>
                      </td>
                    </tr>
                    <tr class="bg-white dark:bg-gray-800">
                      <td class="px-6 py-4">Total Assets</td>

                      <td class="px-6 py-4">
                        <p id="totalAssets">0</p>
                      </td>
                      <td class="px-6 py-4">Total Assets</td>
                      <td class="px-6 py-4">
                        <p id="totalAssets1">0</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </form>
            </div>
          </div>
        </div>
        <form id="forms_pak_chusni" class="mb-10 mt-10">
          <div class="flex justify-end w-full">
            <button
              onclick="javascript:history.back()"
              type="button"
              class="content-center text-white bg-primary-color hover:bg-indigo-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-primary-color dark:hover:bg-indigo-600 dark:focus:ring-blue-800 mr-5"
            >
              Sebelumnya
            </button>
            <div class="w-5"></div>
            <button
              onclick="saveAnswer();updateSession();javascript:history.forward()"
              type="button"
              class="content-center text-white bg-primary-color hover:bg-indigo-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-primary-color dark:hover:bg-indigo-600 dark:focus:ring-blue-800"
            >
              Selanjutnya
            </button>
          </div>
        </form>
        <!-- inner -->
      </section>
    </section>

    <script src="../path/to/flowbite/dist/flowbite.min.js"></script>
    <script>
      let timerNumber = "timer21";
      let timeStart = parseInt(sessionStorage.getItem(timerNumber)) || 0; // Time Start
      var timer;
      function startTimer(duration, display) {
        timer = duration;
        var minutes, seconds;
        let warning = timeStart;
        var ok = false;
        var form = document.forms.exam;

        var t = setInterval(function () {
          minutes = parseInt(timer / 60, 10);
          seconds = parseInt(timer % 60, 10);
          minutes = minutes < 10 ? "0" + minutes : minutes;
          seconds = seconds < 10 ? "0" + seconds : seconds;

          display.textContent = minutes + ":" + seconds;
          sessionStorage.setItem(timerNumber, timer);
          if (++timer <= 0) {
            timer = duration;
          }
        }, 1000);
      }

      window.onload = function () {
        var time = timeStart, // your time in seconds here
          display = document.querySelector("#TimerDisplay");
        startTimer(time, display);
      };

      // var inputA1 = document.getElementById("smallUndervalueTab4_B1");
      // console.debug(inputA1);
      // var totalElement1 = document.getElementById("smallUndervalueTab4_D1");
      // var totalElement2 = document.getElementById("smallUndervalueTab4_D2");
      // inputA1.addEventListener("input", () => updateTotal(1));

      // function updateTotal(totalFor) {
      //   var valueA1 = parseFloat(inputA1.value) || 0;

      //   var total1 = valueA1 + 1487800300;
      //   var total2 = valueA1 + 1;
      //   console.log(total1);

      //   if (totalFor === 1) {
      //     totalElement1.textContent = total1;
      //     console.log("total 1 done");
      //   } else if (totalFor === 2) {
      //     totalElement2.textContent = total2;
      //   }
      // }

      function loadAnswers() {
        const session = sessionStorage.getItem("FormData");
        if (session) {
          const sessionObject = JSON.parse(session);
          for (var question in sessionObject) {
            const inputs = document.getElementsByName(question);
            if (inputs) {
              inputs[0].value = sessionObject[question];
            }
          }
        }
      }
      const form = document.forms["forms_pak_chusni"];
      form.addEventListener("submit", saveAnswer);
      function saveAnswer(e) {
        e?.preventDefault();
        let tempStorage = JSON.parse(sessionStorage.getItem("FormData"));
        let formData = new FormData(form);
        let object = Object.fromEntries(formData.entries());
        console.log(object);
        object[timerNumber] = timer;
        tempStorage = { ...tempStorage, ...object };
        console.log(tempStorage);
        sessionStorage.setItem("FormData", JSON.stringify(tempStorage));
        window.location.href = "frame22.html";
      }

      // Menampilkan Total Assets
      //let jsonString = sessionStorage.getItem("FormData");
      //let jsonObject = JSON.parse(jsonString);

      //let inputNonCurrentAssets = document.getElementById("smallUndervalueTab4_B1");
      //let currentAssets = document.getElementById("currentAsset").innerHTML
      //inputNonCurrentAssets.addEventListener("input", () => updateTotal())
      //
      //function updateTotal() {
      //  let valueNonCurrent = parseFloat(inputNonCurrentAssets.value) || 0;
      //  let valueCurrent = parseFloat(currentAssets) || 0
      //
      //  let total1 = valueCurrent + valueNonCurrent;
      //  const a = "dhbhjdhsbds";
      //
      //  let totalElement1 = document.getElementById("totalAssets").innerHTML
      //    totalElement1.innerHTML = total1;
      //
      //}

      function updateTotal() {
        let currentAssets = document.getElementById("currentAssets");
        let nonCurrentAssets = document.getElementById("nonCurrentAssets");
        let inputCurrentLiabilities = document.getElementById("currentLiabilities");
        let inputNonCurrentLiabilities = document.getElementById("nonCurrentLiabilities");

        let totalElement = document.getElementById("totalAssets1");
        let totalElement1 = document.getElementById("totalAssets");
        let totalElement2 = document.getElementById("totalLiabilities");
        let totalElement3 = document.getElementById("equityTotalLiabilities");

        let valueNonCurrent1 = parseFloat(nonCurrentAssets.value) || 0;
        let valueCurrent1 = parseFloat(currentAssets.textContent) || 0;

        let valueCurrent2 = parseFloat(inputCurrentLiabilities.value) || 0;
        let valueNonCurrent2 = parseFloat(inputNonCurrentLiabilities.value) || 0;

        let total1 = valueCurrent1 + valueNonCurrent1;
        let total2 = valueCurrent2 + valueNonCurrent2;
        let total3 = total2 - total1;

        totalElement.innerHTML = total1;
        totalElement1.innerHTML = total1;
        totalElement2.innerHTML = total2;
        totalElement3.innerHTML = total3;
      }

      let inputNonCurrentAssets = document.getElementById("nonCurrentAssets");
      let inputCurrentLiabilities = document.getElementById("currentLiabilities");
      let inputNonCurrentLiabilities = document.getElementById("nonCurrentLiabilities");

      inputNonCurrentAssets.addEventListener("input", updateTotal);
      inputCurrentLiabilities.addEventListener("input", updateTotal);
      inputNonCurrentLiabilities.addEventListener("input", updateTotal);

      updateTotal();

      function updateSession() {
        let tempStorage = JSON.parse(sessionStorage.getItem("FormData")) || {};

        let inputNonCurrentAssets = document.getElementById("nonCurrentAssets").value;
        let inputCurrentLiabilities = document.getElementById("currentLiabilities").value;
        let inputNonCurrentLiabilities = document.getElementById("nonCurrentLiabilities").value;

        let currentAssets = document.getElementById("currentAssets").textContent;
        let totalElement = document.getElementById("totalAssets1").textContent;
        let totalElement1 = document.getElementById("totalAssets").textContent;
        let totalElement2 = document.getElementById("totalLiabilities").textContent;
        let totalElement3 = document.getElementById("equityTotalLiabilities").textContent;

        tempStorage["smallUndervalueTab4_B1"] = inputNonCurrentAssets;
        tempStorage["smallUndervalueTab4_A2"] = inputCurrentLiabilities;
        tempStorage["smallUndervalueTab4_B2"] = inputNonCurrentLiabilities;
        tempStorage["smallUndervalueTab4_A1"] = currentAssets;
        tempStorage["smallUndervalueTab4_E1"] = totalElement;
        tempStorage["smallUndervalueTab4_E2"] = totalElement1;
        tempStorage["smallUndervalueTab4_C1"] = totalElement2;
        tempStorage["smallUndervalueTab4_D1"] = totalElement3;

        sessionStorage.setItem("FormData", JSON.stringify(tempStorage));
      }
    </script>
  </body>
</html>
